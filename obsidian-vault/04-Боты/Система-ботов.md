# ü§ñ –°–∏—Å—Ç–µ–º–∞ –±–æ—Ç–æ–≤ –¥–ª—è –∑–∞–º–∫–æ–≤

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ –±–æ—Ç–æ–≤ –¥–ª—è –∑–∞–º–∫–æ–≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞—â–∏—Ç—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–∫–∞–º–∏ –≤ Lineage 2. –ë–æ—Ç—ã –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–æ–ª–∏: –æ—Ç —Ä—è–¥–æ–≤—ã—Ö —Å–æ–ª–¥–∞—Ç –¥–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```
net.sf.l2j.botmanager
‚îú‚îÄ‚îÄ core/           # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ BotType.java        # –¢–∏–ø—ã –±–æ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ BotState.java       # –°–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ BotContext.java     # –ö–æ–Ω—Ç–µ–∫—Å—Ç –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ BotException.java   # –ò—Å–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ managers/       # –ú–µ–Ω–µ–¥–∂–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ BotManager.java     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ EventManager.java   # –°–æ–±—ã—Ç–∏—è
‚îú‚îÄ‚îÄ castle/         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–∫–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ CastleBotManager.java    # –ú–µ–Ω–µ–¥–∂–µ—Ä –±–æ—Ç–æ–≤ –∑–∞–º–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ CastleBotGroup.java      # –ì—Ä—É–ø–ø–∞ –±–æ—Ç–æ–≤ –∑–∞–º–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ CastleMenuManager.java   # –ú–µ–Ω—é –∑–∞–º–∫–∞
‚îî‚îÄ‚îÄ marketplace/    # –†—ã–Ω–æ–∫ –±–æ—Ç–æ–≤
    ‚îú‚îÄ‚îÄ BotMarketplace.java      # –†—ã–Ω–æ–∫ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
    ‚îî‚îÄ‚îÄ PersonalBotGroup.java    # –õ–∏—á–Ω—ã–µ –±–æ—Ç—ã
```

## üé≠ –¢–∏–ø—ã –±–æ—Ç–æ–≤

### 1. –°–æ–ª–¥–∞—Ç (SOLDIER)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –†—è–¥–æ–≤–æ–π –±–æ–µ—Ü –¥–ª—è –∑–∞—â–∏—Ç—ã –∑–∞–º–∫–∞
- **–§—É–Ω–∫—Ü–∏–∏**: –û—Ö—Ä–∞–Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏, –ø–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞—â–∏—Ç–∞ –≤–æ—Ä–æ—Ç
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 500,000 –∞–¥–µ–Ω—ã
- **–õ–∏–º–∏—Ç**: –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ

### 2. –û—Ñ–∏—Ü–µ—Ä (OFFICER)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ö–æ–º–∞–Ω–¥–∏—Ä –≥—Ä—É–ø–ø—ã —Å–æ–ª–¥–∞—Ç
- **–§—É–Ω–∫—Ü–∏–∏**: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å–æ–ª–¥–∞—Ç, —Ç–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–º–∞–Ω–¥–æ–≤–∞–Ω–∏–µ
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 2,000,000 –∞–¥–µ–Ω—ã
- **–õ–∏–º–∏—Ç**: 10 –æ—Ñ–∏—Ü–µ—Ä–æ–≤

### 3. –í—ã—Å—à–∏–π –æ—Ñ–∏—Ü–µ—Ä (HIGH_OFFICER)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π –∫–æ–º–∞–Ω–¥–∏—Ä
- **–§—É–Ω–∫—Ü–∏–∏**: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–æ—Ä–æ–Ω—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ñ–∏—Ü–µ—Ä–∞–º–∏
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 10,000,000 –∞–¥–µ–Ω—ã
- **–õ–∏–º–∏—Ç**: 3 –æ—Ñ–∏—Ü–µ—Ä–∞

### 4. –ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å –≥–∏–ª—å–¥–∏–∏ (VICE_GUILDMASTER)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ì–ª–∞–≤–Ω—ã–π —Å—Ç—Ä–∞—Ç–µ–≥
- **–§—É–Ω–∫—Ü–∏–∏**: –û–±—â–µ–µ –∫–æ–º–∞–Ω–¥–æ–≤–∞–Ω–∏–µ, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 50,000,000 –∞–¥–µ–Ω—ã
- **–õ–∏–º–∏—Ç**: 1 –±–æ—Ç

### 5. –§–µ—Ä–º–µ—Ä (FARMER)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°–±–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤
- **–§—É–Ω–∫—Ü–∏–∏**: –§–∞—Ä–º –º–æ–±–æ–≤, —Å–±–æ—Ä –ª—É—Ç–∞
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 300,000 –∞–¥–µ–Ω—ã
- **–õ–∏–º–∏—Ç**: 5 —Ñ–µ—Ä–º–µ—Ä–æ–≤

### 6. –¢–æ—Ä–≥–æ–≤–µ—Ü (MERCHANT)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–æ—Ä–≥–æ–≤–ª—è —Ä–µ—Å—É—Ä—Å–∞–º–∏
- **–§—É–Ω–∫—Ü–∏–∏**: –ü—Ä–æ–¥–∞–∂–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –ø–æ–∫—É–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 800,000 –∞–¥–µ–Ω—ã
- **–õ–∏–º–∏—Ç**: 2 —Ç–æ—Ä–≥–æ–≤—Ü–∞

### 7. –°—Ç—Ä–∞–∂–Ω–∏–∫ (GUARD)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Ö—Ä–∞–Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏
- **–§—É–Ω–∫—Ü–∏–∏**: –ü–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É–≥—Ä–æ–∑
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 400,000 –∞–¥–µ–Ω—ã
- **–õ–∏–º–∏—Ç**: 3 —Å—Ç—Ä–∞–∂–Ω–∏–∫–∞

## üè∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–∫–∞–º–∏

### –ú–µ–Ω—é –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∑–∞–º–∫–∞
–î–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ NPC –≤ –∑–∞–º–∫–µ:

#### 1. –ü–æ–∫—É–ø–∫–∞ –±–æ—Ç–æ–≤
```mermaid
graph TD
    A[–ú–µ–Ω—é –ø–æ–∫—É–ø–∫–∏] --> B[–°–æ–ª–¥–∞—Ç—ã]
    A --> C[–û—Ñ–∏—Ü–µ—Ä—ã]
    A --> D[–í—ã—Å—à–∏–µ –æ—Ñ–∏—Ü–µ—Ä—ã]
    A --> E[–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å]
    A --> F[–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–æ—Ç—ã]

    B --> G[–í—ã–±–æ—Ä –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏]
    C --> H[–í—ã–±–æ—Ä —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏]
    D --> I[–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è —Ä–æ–ª—å]
    E --> J[–ì–ª–∞–≤–Ω—ã–π –∫–æ–º–∞–Ω–¥–∏—Ä]
    F --> K[–§–µ—Ä–º–µ—Ä—ã/–¢–æ—Ä–≥–æ–≤—Ü—ã]
```

#### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å–∞–¥–æ–π
- **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ—Å–∞–¥–µ**: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤
- **–ó–∞—â–∏—Ç–∞ –≤–æ—Ä–æ—Ç**: –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–ª–¥–∞—Ç —É –≥–ª–∞–≤–Ω—ã—Ö –≤–æ—Ä–æ—Ç
- **–ó–∞—â–∏—Ç–∞ —Å—Ç–µ–Ω**: –ü–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–µ–Ω –∑–∞–º–∫–∞
- **–ö–æ–Ω—Ç—Ä–∞—Ç–∞–∫–∞**: –ê–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ—Ç–∏–≤ –Ω–∞–ø–∞–¥–∞—é—â–∏—Ö

#### 3. –ú–∏—Ä–Ω–æ–µ –≤—Ä–µ–º—è
- **–ü–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–µ–≥—É–ª—è—Ä–Ω—ã–π –æ—Å–º–æ—Ç—Ä —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏
- **–°–±–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤**: –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞—Ä–º
- **–¢–æ—Ä–≥–æ–≤–ª—è**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫–æ–Ω–æ–º–∏–∫–æ–π –∑–∞–º–∫–∞

#### 4. –°–µ–º—å –ø–µ—á–∞—Ç–µ–π
- **–§–∞—Ä–º Necropolis**: –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞—Ä–º –ø–æ–¥–∑–µ–º–µ–ª–∏–π
- **–§–∞—Ä–º Catacombs**: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤ –∫–∞—Ç–∞–∫–æ–º–±–∞—Ö
- **–ó–∞—â–∏—Ç–∞ –ø–µ—á–∞—Ç–µ–π**: –û—Ö—Ä–∞–Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫

#### 5. –û–ª–∏–º–ø–∏–∞–¥–∞
- **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞**: –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –±–æ–µ–≤

## üõí –†—ã–Ω–æ–∫ –±–æ—Ç–æ–≤ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤

### –ü–æ–∫—É–ø–∫–∞ –±–æ—Ç–æ–≤
- **–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∏–ø—ã**: –°–æ–ª–¥–∞—Ç—ã, –û—Ñ–∏—Ü–µ—Ä—ã, –§–µ—Ä–º–µ—Ä—ã, –¢–æ—Ä–≥–æ–≤—Ü—ã, –°—Ç—Ä–∞–∂–Ω–∏–∫–∏
- **–¶–µ–Ω—ã**: –û—Ç 300k –¥–æ 2M –∞–¥–µ–Ω—ã
- **–õ–∏–º–∏—Ç—ã**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –±–æ—Ç–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏
```java
// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
BotMarketplace marketplace = BotMarketplace.getInstance();

// –ü–æ–∫—É–ø–∫–∞ –±–æ—Ç–∞
BotContext bot = marketplace.purchaseBot(player, BotType.SOLDIER, "MySoldier");

// –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ
marketplace.sendBotWithPlayer(player, bot.getBotId());

// –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
marketplace.sendBotOnTask(player, bot.getBotId(), "farm_mobs");

// –í–æ–∑–≤—Ä–∞—Ç –≤ —Ä–µ–∂–∏–º –æ–∂–∏–¥–∞–Ω–∏—è
marketplace.returnBotToIdle(player, bot.getBotId());
```

### –õ–∏–º–∏—Ç—ã –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
| –¢–∏–ø –±–æ—Ç–∞ | –õ–∏–º–∏—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| –°–æ–ª–¥–∞—Ç | 3 | –†—è–¥–æ–≤—ã–µ –±–æ–π—Ü—ã |
| –û—Ñ–∏—Ü–µ—Ä | 1 | –ö–æ–º–∞–Ω–¥–∏—Ä –≥—Ä—É–ø–ø—ã |
| –§–µ—Ä–º–µ—Ä | 5 | –°–±–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤ |
| –¢–æ—Ä–≥–æ–≤–µ—Ü | 2 | –≠–∫–æ–Ω–æ–º–∏–∫–∞ |
| –°—Ç—Ä–∞–∂–Ω–∏–∫ | 3 | –û—Ö—Ä–∞–Ω–∞ |

## ‚öîÔ∏è –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥–æ–≤–∞–Ω–∏—è

### –ò–µ—Ä–∞—Ä—Ö–∏—è
```mermaid
graph TD
    A[–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å –≥–∏–ª—å–¥–∏–∏] --> B[–í—ã—Å—à–∏–π –æ—Ñ–∏—Ü–µ—Ä 1]
    A --> C[–í—ã—Å—à–∏–π –æ—Ñ–∏—Ü–µ—Ä 2]
    A --> D[–í—ã—Å—à–∏–π –æ—Ñ–∏—Ü–µ—Ä 3]

    B --> E[–û—Ñ–∏—Ü–µ—Ä 1]
    B --> F[–û—Ñ–∏—Ü–µ—Ä 2]
    B --> G[–û—Ñ–∏—Ü–µ—Ä 3]

    E --> H[–°–æ–ª–¥–∞—Ç 1]
    E --> I[–°–æ–ª–¥–∞—Ç 2]
    E --> J[–°–æ–ª–¥–∞—Ç 3]
```

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å –≥–∏–ª—å–¥–∏–∏**: –û–±—â–µ–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –∫–æ–º–∞–Ω–¥–æ–≤–∞–Ω–∏–µ
- **–í—ã—Å—à–∏–µ –æ—Ñ–∏—Ü–µ—Ä—ã**: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –≥—Ä—É–ø–ø
- **–û—Ñ–∏—Ü–µ—Ä—ã**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏ —Å–æ–ª–¥–∞—Ç (–ø–æ 9 –±–æ—Ç–æ–≤)
- **–°–æ–ª–¥–∞—Ç—ã**: –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–∫–∞–∑–æ–≤

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–æ—Ç–æ–≤**
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á**
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–±–æ—Ä–æ–Ω—ã**
- **–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```java
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
CastleBotManager castleManager = CastleBotManager.getInstance();
String stats = castleManager.getCastleBotStatistics(castleId);

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä—ã–Ω–∫–∞
BotMarketplace marketplace = BotMarketplace.getInstance();
String marketStats = marketplace.getMarketStatistics();
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π
```java
// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
EventManager eventManager = EventManager.getInstance();
eventManager.subscribe(BotCreatedEvent.class, new IEventListener<BotCreatedEvent>() {
    @Override
    public void onEvent(BotCreatedEvent event) {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
        System.out.println("Bot created: " + event.getBotName());
    }
});
```

### –ö–æ–Ω—Ç–µ–∫—Å—Ç –±–æ—Ç–∞
```java
public class BotContext {
    private final int botId;
    private final Map<String, Object> data;
    private final AtomicReference<BotState> state;

    // –ú–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –¥–∞–Ω–Ω—ã–º–∏
    public void setState(BotState newState);
    public BotState getState();
    public void setData(String key, Object value);
    public <T> T getData(String key);
}
```

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å L2J

### GameServer –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
```java
public class GameServer {
    private final BotManager botManager;
    private final CastleBotManager castleManager;

    public void onGameStart() {
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º –±–æ—Ç–æ–≤
        botManager = BotManager.getInstance();
        castleManager = CastleBotManager.getInstance();

        // –ó–∞–≥—Ä—É–∑–∫–∞ –±–æ—Ç–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        loadBotsFromDatabase();
    }
}
```

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
- `castle_bot_purchase` - –ø–æ–∫—É–ø–∫–∞ –±–æ—Ç–æ–≤
- `castle_bot_siege` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å–∞–¥–æ–π
- `castle_bot_peace` - –º–∏—Ä–Ω–æ–µ –≤—Ä–µ–º—è
- `castle_bot_stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **Object Pooling**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –±–æ—Ç–æ–≤
- **Async Processing**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- **Caching**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Thread Management**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞–º–∏

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- **Horizontal Scaling**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
- **Load Balancing**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- **Resource Management**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –°–∏—Å—Ç–µ–º–∞ –æ–±—É—á–µ–Ω–∏—è –±–æ—Ç–æ–≤
- [ ] –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–ò –¥–ª—è —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Discord –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –±–æ–ª–µ–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é Java
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏
- [ ] –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ | **–í–µ—Ä—Å–∏—è**: 1.0 | **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2024-01-XX
