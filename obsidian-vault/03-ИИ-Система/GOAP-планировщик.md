# üß† GOAP –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫

## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

```mermaid
graph TD
    A["–¶–µ–ª—å –±–æ—Ç–∞"] --> B["GOAP Planner"]
    B --> C["–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è"]
    C --> D["–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–∏"]
    D --> E["–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞"]
    E --> F["–û—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞"]
    F --> G["–û–±—É—á–µ–Ω–∏–µ"]
    G --> H["–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏"]
    H --> A
    
    subgraph "–î–µ–π—Å—Ç–≤–∏—è"
        I["–ê—Ç–∞–∫–∞"]
        J["–õ–µ—á–µ–Ω–∏–µ"]
        K["–î–≤–∏–∂–µ–Ω–∏–µ"]
        L["–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–∏–ª–ª–∞"]
        M["–°–±–æ—Ä –ª—É—Ç–∞"]
    end
    
    subgraph "–¶–µ–ª–∏"
        N["–í—ã–∂–∏—Ç—å"]
        O["–§–∞—Ä–º–∏—Ç—å"]
        P["–ü–æ–º–æ—á—å —Å–æ—é–∑–Ω–∏–∫—É"]
        Q["–ó–∞—â–∏—Ç–∏—Ç—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é"]
    end
    
    C --> I
    C --> J
    C --> K
    C --> L
    C --> M
    
    A --> N
    A --> O
    A --> P
    A --> Q
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¶–µ–ª–∏ (Goals)
```java
public class BotGoal {
    String name;
    int priority;
    Map<String, Object> conditions;
    boolean isAchieved(WorldState worldState);
}
```

### –î–µ–π—Å—Ç–≤–∏—è (Actions)
```java
public class BotAction {
    String name;
    int cost;
    Map<String, Object> preconditions;
    Map<String, Object> effects;
    boolean canExecute(WorldState worldState);
    void execute(Bot bot);
}
```

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞ (WorldState)
```java
public class WorldState {
    Bot bot;
    List<L2Character> nearbyEnemies;
    List<L2Character> nearbyAllies;
    L2Character target;
    int healthPercent;
    int manaPercent;
    L2ItemInstance weapon;
    // ... –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
}
```

## –ê–ª–≥–æ—Ä–∏—Ç–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è** - —Å–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–∏—Ä–µ
2. **–í—ã–±–æ—Ä —Ü–µ–ª–∏** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π —Ü–µ–ª–∏
3. **–ü–æ–∏—Å–∫ –¥–µ–π—Å—Ç–≤–∏–π** - –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
4. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–∏** - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏–π
5. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ –ø–ª–∞–Ω–∞
6. **–û—Ü–µ–Ω–∫–∞** - –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞

## –û–±—É—á–µ–Ω–∏–µ –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è

- **Q-Learning** –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏–π
- **–ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏** –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
